<!-- index.html - Costa Hogar A1 limpio, sin listar propiedades reales -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Costa Hogar - Inicio</title>
  <!-- Importante: ruta correcta al CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>

<div id="main-header"></div>
<script src="/js/header.js" defer></script>


<!-- ================================
     HERO + CARRUSEL CON FRASES
================================ -->
<section class="hero">

  <div class="hero-slider">
    <div class="slide active" style="background-image:url('https://images.unsplash.com/photo-1507089947368-19c1da9775ae?w=1200');"></div>
    <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200');"></div>
    <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=1200');"></div>
  </div>

  <div class="hero-content">
    <h1 id="heroFrase">Encuentra tu hogar ideal</h1>

    <div class="search-box">
      <input type="text" id="busqueda" placeholder="Buscar ciudad, zona o direcciÃ³n...">
      <button onclick="buscar()">Buscar</button>
    </div>

    <div class="sugerencias" id="sugerencias"></div>
  </div>

</section>

<!-- ================================
     BLOQUES TIPO IDEALISTA
================================ -->
<section class="destacadas-section">
  <h2>Â¿QuÃ© quieres hacer hoy?</h2>
  <div class="lista">
    <div class="item" onclick="location.href='comprar.html'">
      <img src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800" alt="Comprar vivienda">
      <div class="info">
        <div class="titulo">Comprar vivienda</div>
        <div class="direccion">Explora todas las viviendas en venta</div>
      </div>
    </div>

    <div class="item" onclick="location.href='alquiler.html'">
      <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800" alt="Alquilar vivienda">
      <div class="info">
        <div class="titulo">Alquilar vivienda</div>
        <div class="direccion">Encuentra piso o casa de alquiler</div>
      </div>
    </div>

    <div class="item" onclick="location.href='publicar.html'">
      <img src="https://images.unsplash.com/photo-1512914890250-353c97c9e7e2?w=800" alt="Publicar anuncio">
      <div class="info">
        <div class="titulo">Publicar mi anuncio</div>
        <div class="direccion">Pon tu vivienda en Costa Hogar en minutos</div>
      </div>
    </div>
  </div>

  <h2 style="margin-top:40px;">Lo que dicen nuestros clientes</h2>
  <div class="testimonios">
    <div class="testimonio">
      <p class="texto">â€œVendimos nuestro piso en menos de un mes gracias a Costa Hogar. El proceso fue muy sencillo.â€</p>
      <div class="cliente">
        <img src="https://images.unsplash.com/photo-1544723795-3fb6469f5b39?w=200" alt="Cliente 1">
        <div>
          <h4>MarÃ­a y Carlos</h4>
          <span>Propietarios en Alicante</span>
        </div>
      </div>
    </div>

    <div class="testimonio">
      <p class="texto">â€œEncontrÃ© un alquiler cerca del trabajo y con el presupuesto que buscaba. Muy recomendable.â€</p>
      <div class="cliente">
        <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=200" alt="Cliente 2">
        <div>
          <h4>LucÃ­a</h4>
          <span>Inquilina en Torrevieja</span>
        </div>
      </div>
    </div>

    <div class="testimonio">
      <p class="texto">â€œLa web es muy cÃ³moda y pude gestionar las visitas a mis propiedades sin complicaciones.â€</p>
      <div class="cliente">
        <img src="https://images.unsplash.com/photo-1544723795-3fb0b90c07e4?w=200" alt="Cliente 3">
        <div>
          <h4>Javier</h4>
          <span>Agente inmobiliario</span>
        </div>
      </div>
    </div>
  </div>
</section>

<footer style="text-align:center;padding:20px;color:#666;">
  Â© 2025 Costa Hogar. Todos los derechos reservados.
</footer>

<!-- ================================
     JAVASCRIPT
================================ -->
<script>
/* 1. CARRUSEL AUTOMÃTICO */
let slideIndex = 0;
setInterval(() => {
  const slides = document.querySelectorAll(".slide");
  if (!slides.length) return;
  slides.forEach(s => s.classList.remove("active"));
  slideIndex = (slideIndex + 1) % slides.length;
  slides[slideIndex].classList.add("active");
}, 4500);

/* 2. FRASES AUTOMÃTICAS */
const frases = [
  "Encuentra tu hogar ideal",
  "Viviendas hechas para ti",
  "SueÃ±a en grande, vive mejor",
  "El lugar perfecto te espera"
];

let fraseIndex = 0;
setInterval(() => {
  fraseIndex = (fraseIndex + 1) % frases.length;
  const el = document.getElementById("heroFrase");
  if (el) el.textContent = frases[fraseIndex];
}, 4000);

/* 3. AUTOCOMPLETADO DIRECCIONES */
const input = document.getElementById("busqueda");
const sugerencias = document.getElementById("sugerencias");

input.addEventListener("input", async () => {
  const t = input.value.trim();
  if (t.length < 3) { sugerencias.style.display = "none"; return; }

  const url = `https://geocode.maps.co/search?q=${encodeURIComponent(t)}&api_key=691dbf7ce0ac5786669402bgm8f835e`;
  try {
    const res = await fetch(url);
    const data = await res.json();
    sugerencias.innerHTML = "";
    if (!data.length) { sugerencias.style.display = "none"; return; }

    data.slice(0, 6).forEach(s => {
      const d = document.createElement("div");
      d.textContent = s.display_name;
      d.onclick = () => {
        input.value = s.display_name;
        sugerencias.style.display = "none";
      };
      sugerencias.appendChild(d);
    });
    sugerencias.style.display = "block";
  } catch(e) {
    console.error(e);
    sugerencias.style.display = "none";
  }
});

/* 4. BOTÃ“N DE BUSCAR â†’ va a COMPRAR con filtro */
function buscar() {
  const q = input.value.trim();
  if (!q) return;
  location.href = `comprar.html?search=${encodeURIComponent(q)}`;
}
</script>

<!-- MENÃš MÃ“VIL TIPO APP -->
<nav class="mobile-nav" id="mobileNav">
  <a href="/index.html" class="active">
    <span>ğŸ </span>
    <small>Inicio</small>
  </a>

  <a href="/comprar.html">
    <span>ğŸ”</span>
    <small>Buscar</small>
  </a>

  <a href="/favoritos.html">
    <span>â¤ï¸</span>
    <small>Favoritos</small>
  </a>

  <a href="/perfil.html#chats">
    <span>ğŸ’¬</span>
    <small>Chats</small>
  </a>

  <a href="/perfil.html">
    <span>ğŸ‘¤</span>
    <small>Perfil</small>
  </a>
</nav>

</body>
</html>
