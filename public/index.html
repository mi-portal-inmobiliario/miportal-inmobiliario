<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal Inmobiliario</title>
<link rel="stylesheet" href="styles.css">
<style>
  body { background:#FFF9E5; font-family: Arial, sans-serif; padding:20px; }
  .banner { background: linear-gradient(90deg,#A6CF3E,#7CC242); color:white; padding:15px 20px; text-align:center; border-radius:10px; display:flex; justify-content:space-between; align-items:center; }
  .dropdown-btn { background:white; color:#7CC242; padding:10px 16px; border:none; border-radius:5px; cursor:pointer; }
  .dropdown-btn:hover { background:#f0f0f0; }
  #propiedades { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; margin-top:20px; }
  .propiedad { background:white; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
  .propiedad img { width:100%; height:200px; object-fit:cover; border-radius:8px; margin-top:10px; }
  .propiedad h2 { margin:10px 0 5px; font-size:1.2em; color:#7CC242; }
  .propiedad p { margin:5px 0; }
  .propiedad .precio { color:#A6CF3E; font-weight:bold; font-size:1.2em; }
</style>
</head>
<body>

<header class="banner">
  <h1>Portal Inmobiliario üè°</h1>
  <button onclick="location.href='vender.html'" class="dropdown-btn">Pon tu anuncio</button>
</header>

<div id="propiedades"></div>

<script>
  async function cargarPropiedades() {
    try {
      // ‚úÖ Usa tu servidor de Render
      const res = await fetch("https://miportal-inmobiliario-server.onrender.com/propiedades");
      const propiedades = await res.json();
      const contenedor = document.getElementById("propiedades");
      contenedor.innerHTML = "";

      if (propiedades.length === 0) {
        contenedor.innerHTML = "<p>No hay propiedades todav√≠a.</p>";
        return;
      }

      propiedades.forEach(p => {
        const div = document.createElement("div");
        div.className = "propiedad";

        // ‚úÖ Mostrar imagen de Cloudinary (o placeholder si no hay)
        let imgHTML = '';
        if (p.imagen && p.imagen.startsWith("http")) {
          imgHTML = `<img src="${p.imagen}" alt="${p.titulo}">`;
        } else {
          imgHTML = `<img src="https://via.placeholder.com/400x300?text=Sin+imagen" alt="Sin imagen">`;
        }

        div.innerHTML = `
          <h2>${p.titulo}</h2>
          <p>${p.descripcion || ""}</p>
          <p class="precio">${p.precio} ‚Ç¨</p>
          <p><strong>Direcci√≥n:</strong> ${p.direccion}</p>
          ${imgHTML}
        `;
        contenedor.appendChild(div);
      });
    } catch (err) {
      console.error("Error cargando propiedades:", err);
    }
  }

  cargarPropiedades();
</script>

</body>
</html>




















